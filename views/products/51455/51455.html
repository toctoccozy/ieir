<!doctype html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ $goods->getTitleTag() }}</title>
    <meta name="description" content="{{ $goods->getSeoDescription() }}">
    <meta name="keywords" content="{{ $goods->getSeoKeywords() }}">
    <meta name="csrf-token" content="{{ csrf_token() }}">

	<meta name="twitter:card" content="summary_large_image" />
	<meta property="og:url" content="{{ config('app.url') . '/' . $goods->getM1prgc() }}" />
	<meta property="og:title" content="{{ $goods->getTitleTag() }}" />
	<meta property="og:image" content="" />
	<meta property="og:description" content="{{ $goods->getTwDescription() }}" />
	<meta property="og:site_name" content="{{ $goods->isPremico() ? 'PREMICO(プレミコ) オンラインショップ' : 'I・E・Iオンラインショップ' }}" />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com/3.4.1"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/customization.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Klee+One:wght@400;600&family=Baloo+2:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.5/dist/cdn.min.js"></script>
</head>

<body class="bg-white">
    <div class="min-h-screen mx-auto">
    <?php include public_path() . '/include/header_new.html'; ?>

        <!-- パンくずナビ -->
        <nav class="bread-clumbs text-sm sm:text-base text-gray-600 mx-auto pl-3 leading-snug tracking-tighter max-w-6xl">
            <a href="/collection" class="text-blue-800 hover:text-blue-400 transition-colors">コレクション</a>
                @if ($goods->getIeiCategory()->isNotEmpty())
                    <span class="mx-2">｜</span>
                    <a href="/collection/{{ $goods->getIeiCategory()->first()->getIeiCategoryName() }}" class="text-blue-800 hover:text-blue-400 transition-colors">
                        {{ $goods->getIeiCategory()->first()->getIeiCategoryJpName() }}
                    </a>
                @endif
        </nav>

        <!-- メインコンテンツ -->
        <main class="pt-4 pb-6 px-1 mx-auto max-w-5xl">
            <!-- 商品説明 -->
            <section class="mx-auto max-w-3xl">
                <!-- トップ画像 -->
                <div class="p-3">
                    <img src="/image/goods/51455_01.jpg" alt="400年の伝統 平戸細工　純金製 四つ葉のクローバー　ダイヤモンド入り宝飾ペンダント　平戸細工 東京都優秀技能者 大谷茂 原作、英工芸 制作" class="w-full mx-auto h-auto">
                </div>
                <!-- 商品紹介文 -->
                <div class="p-3">
                    <p class="text-start sm:text-center leading-relaxed font-bold">
                        希望、愛情、健康、そして幸福…。<br>
                        それは最高品位・純金のしあわせあふれる四つ葉のクローバー。<br>
                        そして美の象徴、ダイヤモンドが煌めいて──。<br>
                        江戸より続く400年の伝統「平戸細工」の緻密極まる絶技で一点一点手作りされる贅沢な宝飾ペンダント。<br>
                        絹のように繊細な輝きと透かし模様も見事な、身に着ける芸術作品です。<br>
                    </p>
                </div>
                <!-- 下記はAかBどちらかを利用 -->
                    <!-- A:商品メイン画像＆箇条書き(main_600x600画像がある場合) -->
                    <div class="flex flex-col md:flex-row p-3">
                        <img src="/image/goods/51455_main_600x600.jpg" alt="平戸細工　純金製　四つ葉のクローバーペンダント" class="w-full md:w-[50%] mx-auto h-auto p-4">
                        <!-- 指示　ul classのclearfix部分は下記を利用 -->
                        <ul class="text-start w-full md:w-[50%] md:p-3 leading-relaxed">
                            <li>■東京都優秀技能者（東京マイスター）大谷茂氏による創作</li>
                            <li>■創業70年の老舗、英工芸の平戸細工熟練職人による手作り手仕上げ</li>
                            <li>■幸福をもたらす「四つ葉のクローバー」</li>
                            <li>■最高品位999の純金製</li>
                            <li>■天然ダイヤモンド1石</li>
                            <li>■軽やかな着け心地</li>
                        </ul>
                    </div>

                <!-- 商品詳細 -->
                <div class="flex flex-col space-y-3 mt-6">
                    <!-- 指示　img部分は下記を利用 -->
                    <img src="/image/goods/51455_02.jpg" alt="モデル着用イメージ" loading="lazy" class="w-full max-w-2xl mx-auto h-auto p-4"
                    >
                    <!-- 指示　classのflt-1部分は下記を利用(ここはbrタグ不要) -->
                    <div class="flex flex-col sm:flex-row">
                        <img src="/image/goods/51455_03.jpg" alt="極細の純金線が描く優雅な曲線" loading="lazy" class="mx-auto max-w-[10rem] p-3 sm:m-3 object-contain"
                        >
                        <p class="text-start px-1 sm:p-3 leading-relaxed">
                            誰もが探し求め、大切にされてきた幸運の象徴「四つ葉のクローバー」。そして、未来永劫変わらぬ資産価値と美しさを誇る純金（純度99.9％）。そのふたつが胸もとを飾る、しあわせと品格に満ちたクチュールジュエリーが誕生しました。江戸時代より400年以上続く伝統技「平戸細工」を今に受け継ぐ東京マイスター、大谷茂氏の原作、英工芸の熟練職人が心を込めて手作りする「純金製 四つ葉のクローバー」。息をのむほどのエレガンスが周囲の視線を惹きつけてやまない逸品のご案内です。
                        </p>
                    </div>
                    <!-- 指示　img部分は下記を利用 -->
                    <img src="/image/goods/51455_04.jpg" alt="正面アップ画像" loading="lazy" class="w-full max-w-2xl mx-auto h-auto p-4"
                    >
                    <!-- 指示　h2部分は下記を利用 -->
                    <h2 class="text-white rounded-md font-bold text-lg c-bg-collection-gradient text-center sm:p-3 py-2 mx-1">
                        「希望」、「愛情」、「健康」、「幸福」…。願いを込めて手作りした純金の四つ葉
                    </h2>
                    <!-- 指示　classのflt-1部分は下記を利用(ここはbrタグ不要) -->
                    <div class="flex flex-col sm:flex-row">
                        <img src="/image/goods/51455_05.jpg" alt="中央に輝くダイヤモンド" loading="lazy" class="mx-auto max-w-[10rem] p-3 sm:m-3 object-contain"
                        >
                        <p class="text-start px-1 sm:p-3 leading-relaxed">
                            1ミリの何分の一という極細の純金線を巧みに縒り合わせ、立体的な透かし模様を生み出していく…。同じものが2つとないハンドメイドの葉一枚一枚に絹糸のような艶をたたえ、優雅な曲線を描く4枚の葉。その中心には、ダイヤモンドがみずみずしい煌めきを躍らせます。通常は純銀である平戸細工ですが、大変珍しい純金を贅沢に用いた豊麗な造形美、そして純金ならではの格調高い輝きはため息を誘うほど。これほど華やかでありながらも着け心地はレースのように軽やかで、洗練された意匠はフォーマルな席からカジュアルなお出かけまで、あらゆる装いを華麗にランクアップさせるのです。<br>
                            ＜純金製 四つ葉のクローバー＞ダイヤモンド入り宝飾ペンダントは、I・E・I社の特別企画作品で、熟練職人の丹念な手作りです。<br>
                            素晴らしい意匠が生み出す息をのむ美しさ、そして純金という価値。<br>
                            2つの魅力を持つ名品を、どうぞこの好機にお申し込みください。<br>
                        </p>
                    </div>
                    <!-- 指示　img部分は下記を利用 -->
                    <img src="/image/goods/51455_06.jpg" alt="贈り物にも…。特製ジュエリーケースに収めてお届けしますので、大切な方への贈り物にも最適です" loading="lazy" class="w-full max-w-2xl mx-auto h-auto p-4"
                    >
                    <!-- 指示　img部分は下記を利用 -->
                    <img src="/image/goods/51455_07.jpg" alt="「平戸細工」と「純金」。贅を尽くした華麗なる品格：江戸時代にオランダから長崎の平戸に伝来、平戸藩の江戸屋敷を通じて広まった技法。極細の貴金属線を指先で操り、精妙な透かし模様をつくり出すこの細工は高度な熟練と根気を要するため、現在その技術の継承者は少なく、全国でも数えるほど。本来は銀糸を用いるジュエリーですが、本作品は特別に「純金999」を惜しみなく用い、名匠・大谷茂氏の美意識と熟練職人の手技をあわせて作り上げた奇跡の逸品。平戸細工の美しさと純金ならではの繊細華麗な艶めきが目を奪います。" loading="lazy" class="w-full max-w-2xl mx-auto h-auto p-4"
                    >
                    <!-- 指示　classのbox1部分は下記を利用(ここはbrタグ不要) -->
                    <div class="p-3 m-1 border c-border-collection-gradient border-1 rounded-md">
                        <h3 class="font-bold p-2">大谷 茂</h3>
                        <p class="leading-relaxed flex p-2 flex-col sm:flex-row">
                            <span class="flex-1">昭和16年生まれ。伝統工芸「平戸細工」の数少ない後継者。ＪＪＡジュエリーコンテスト労働大臣賞および東京都知事賞、ＪＰＣフェア通商産業大臣賞など、受賞歴多数。平成11年経済産業省認可・日本貴金属文化工芸協同組合より宝飾師に認定。平成17年東京都優秀技能者「東京マイスター」に認定。</span>
                        </p>
                    </div>
                    <!-- 指示　classのbox1部分は下記を利用(ここはbrタグ不要) -->
                    <div class="p-3 m-1 border c-border-collection-gradient border-1 rounded-md">
                        <h3 class="font-bold p-2">英工芸</h3>
                        <p class="leading-relaxed flex p-2 flex-col sm:flex-row">
                            <span class="flex-1">1955年創業。社団法人日本ジュエリー協会、日本貴金属製鎖工業組合に所属し、熟練の職人技を駆使した純金細工等のハンドメイドジュエリーを制作。1998年のJJAコンテストでは東京都知事賞および日本商工会議所会頭賞、2002年には中小企業庁長官賞など、国内のジュエリーコンテストにて多数の受賞歴を誇る。</span>
                        </p>
                    </div>
                </div>
            </section>

            <!-- 価格・購入エリア -->
            <section id="price_area" class="my-8 w-full mx-auto">
                <!-- 商品画像以下 -->
                <div class="flex flex-col md:flex-row">
                    <!-- 商品画像 -->
                    <div class="flex justify-center p-12 sm:px-32 md:p-4 md:w-[40%] md:items-start">
                        <!-- 拡大画像 -->
                        <img src="/image/goods/51455_main_600x600.jpg"
                            alt="平戸細工　純金製　四つ葉のクローバーペンダント"
                            loading="lazy"
                            class="w-full h-auto object-contain">
                    </div>

                    <!-- 価格・購入情報 -->
                    <div class="p-4 md:w-[60%] md:p-2 md:ml-8">
                        <!-- 商品番号 -->
                        <div class="mb-2 pl-2">
                            <span class=" text-gray-900 tracking-wide">商品番号：{{ $goods->getItemNo() }}</span>
                        </div>
                        <!-- 商品名 -->
                        <h3 class="border-l-8 border-gray-800 pl-2 text-xl font-bold text-gray-800 mb-4 md:mb-1 tracking-tighter">
                            {{ $goods->getGoodsName() }}
                        </h3>

                        <!-- 納期・お届け -->
						@if ($goods->isNgCartMessage() || $goods->isOkCartMessage())
							<!-- メッセージあり 受注NG or OK -->
							<div class="py-2"><p class="text-blue-700 font-bold text-lg">{!! $goods->getMessage() !!}</p></div>
						@else
							<!-- メッセージなし 納期表示 -->
							<div class="py-2"><p class="text-blue-700 font-bold text-lg">{!! $goods->getGoodsDeliveryText() !!}</p></div>
						@endif

                        <!-- 価格 -->
                        <div class="space-y-2 md:space-y-1 mb-6 text-gray-600">
                            <p class="text-lg">{!! $goods->getSoroM1shsg_0_text() !!}</p>
                            <p class="">{!! $goods->getSoroM1shsg_1_text() !!}</p>
                            <p class="ml-4">{!! $goods->getSoroM1tsry_text() !!}</p>
                        </div>

                        <!-- 仕様詳細 -->
                        <div class="px-6 border-b border-gray-200 pb-3">
                            <h4 class="font-bold text-gray-800 mb-3">仕　様</h4>
                            <p class="leading-snug text-sm">
                            <!-- 指示　仕様はここに記載 -->
                            ●材質：ペンダントトップ＝24金、ダイヤモンド1石（約0.02ct）　チェーン＝18金<br>
                            ●サイズ（約）：ペンダントトップ＝16×16×厚さ3mm　チェーン＝最長45cm（フリーアジャスター）<br>
                            ●日本製<br>
                            ＊作品は一点一点手作りされますので形などが写真と異なる場合がございます。
                            </p>

                            <!-- 購入フォーム -->
                            <!-- 紐づけコードなし カート -->
                            <!-- 表示のみ 以外 -->
                            @if ($goods->isDisplayOnly() === false && !$goods->isNgCartMessage())
                                <form method="post" action="/cart" name="cartForm{{ $goods->getItemNo() }}">
                                <input type="hidden" name="item_no" value="{{ $goods->getItemNo() }}">
                                <input type="hidden" name="medium_code" value="{{ $goods->getMediumCode() }}">
                                <input type="hidden" name="amount1" value="1">
                                <input type="hidden" name="ex_volume" value="{{ $goods->isVolume() }}">

								<!-- イニシャルの指定あり -->
                                @if ($goods->isInitial() && !$goods->isNgCartMessage())
									<span class="atn">{!! $goods->getInitialTitle() !!}</span><br>
									<input type="text" name="initial" value=""><br>
								@endif

                                <!-- サイズ・カラー選択 -->
								@if ($goods->isCosize() && !$goods->isNgCartMessage())
									@if ($goods->isColor())
                                        <div>
                                            <span class="select">
                                                <select name="m5clr" class="m5clr{{ $goods->getItemNo() }} w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent"
                                                    data-item_no="{{ $goods->getItemNo() }}" data-data_type="m5clr">
                                                    <option value="">▼お選びください</option>
                                                    @foreach ($goods->getColorArray() as $key => $color)
                                                        <option value="{{ $color->m5clr }}">
                                                            {{ $color->color_name }}
                                                        </option>
                                                    @endforeach
                                                </select>
                                            </span>
                                        </div>
                                        @if ($goods->isSize() || $goods->isType())
                                            <br>
                                        @endif
    								@else
	    								<input type="hidden" name="m5clr" value="">
		    						@endif
			    					@if ($goods->isSize())
                                        <div>
                                            <span class="select">
                                                <select name="m5siz" class="m5siz{{ $goods->getItemNo() }} w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent"
                                                    data-item_no="{{ $goods->getItemNo() }}" data-data_type="m5siz">
                                                    <option value="">▼お選びください</option>
                                                    @if (!$goods->isColor())
                                                        @foreach ($goods->getSizeArray() as $size)
                                                            <option value="{{ $size->m5siz }}">
                                                                {{ $size->size_name }}
                                                            </option>
                                                        @endforeach
                                                    @endif
                                                </select>
                                            </span>
                                        </div>
                                        @if ($goods->isType())
                                            <br>
                                        @endif
                                    @else
                                        <input type="hidden" name="m5siz" value="">
                                    @endif
                                    @if ($goods->isType())
                                        <div>
                                            <span class="select">
                                                <select name="type_code" class="type_code{{ $goods->getItemNo() }} w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent"
                                                    data-item_no="{{ $goods->getItemNo() }}" data-data_type="type_code">
                                                    <option value="">▼お選びください</option>
                                                    @if (!$goods->isColor() && !$goods->isSize())
                                                        @foreach ($goods->getTypeArray() as $type)
                                                            <option value="{{ $type->type_code }}">
                                                                {{ $type->type_name }}
                                                            </option>
                                                        @endforeach
                                                    @endif
                                                </select>
                                            </span>
                                        </div>
                                    @else
                                        <input type="hidden" name="type_code" value="">
                                    @endif
                                @endif
                                @if (!$goods->isNgCartMessage())
                                    <div class="md:w-[70%] mx-auto">
                                        <button type="button" data-item_no="{{ $goods->getItemNo() }}" class="add-cart w-full c-btn-amber-gradient py-4 px-6 rounded-lg flex items-center justify-between transition-all duration-200 shadow-md hover:shadow-lg">
                                            <?xml version="1.0" encoding="utf-8"?>
                                            <svg width="30px" height="30px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="pointer-events: none;">
                                                <path d="M6.29977 5H21L19 12H7.37671M20 16H8L6 3H3M9 20C9 20.5523 8.55228 21 8 21C7.44772 21 7 20.5523 7 20C7 19.4477 7.44772 19 8 19C8.55228 19 9 19.4477 9 20ZM20 20C20 20.5523 19.5523 21 19 21C18.4477 21 18 20.5523 18 20C18 19.4477 18.4477 19 19 19C19.5523 19 20 19.4477 20 20Z" stroke="#FFFFFF" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span class="flex-1 text-center text-lg font-bold" style="pointer-events: none;">カートに入れる</span>
                                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="pointer-events: none;">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                            </svg>
                                        </button>
                                    </div>
                                @endif
    					        </form>
                            @endif
                            <div class="flex flex-col lg:flex-row lg:justify-between space-y-3 pt-3">
                            <!-- お電話 -->
                            <div class="flex flex-col items-center">
                                <div class="text-sm md:text-base text-gray-600 tracking-tighter leading-none">お申込・お問い合わせ 6:00〜21:00</div>
                                    <div class="flex items-center space-x-1 -mt-1">
                                        <div class="w-5 h-5 md:w-8 md:h-8 bg-gray-600 rounded-full flex items-center justify-center">
                                            <svg class="w-3 h-3 md:w-5 md:h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
                                            </svg>
                                        </div>
                                        <a href="tel:0120-247-417" class="text-2xl md:text-3xl text-gray-600 hover:opacity-80 duration-200">0120-247-417</a>
                                    </div>
                                </div>
                                <!-- お問い合わせ -->
                                <div class="text-center">
                                    <a href="/inquiry/index?item_no={{ $goods->getItemNo() }}" class="text-iei-primary hover:text-iei-secondary underline transition-colors sm:text-base">この商品をメールで問い合わせ</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <div class="border-t border-gray-300 mb-4 xl:w-[80%] mx-auto"></div>
        <!-- 案内セクション -->
        <?php include public_path() . '/include/footer_guidance.html'; ?>

        <!-- ページトップボタン -->
        <div id="pagetop" class="fixed bottom-6 right-6 z-50 hidden">
            <a href="#" class="c-bg-second hover:bg-opacity-80 rounded-full p-3 shadow-lg transition-all duration-200 transform  hover:scale-110 text-white font-bold text-lg w-12 h-12 flex items-center justify-center">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                </svg>
            </a>
        </div>
    </div>

    <!-- フッターコンポーネント -->
    <?php include public_path() . '/include/footer_new.html'; ?>

    <!-- JavaScript -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="/js/product.js"></script>

    <script>
    // DOMの準備完了を待つ
    document.addEventListener('DOMContentLoaded', function() {
        // ハンバーガーメニュー機能
        const ham = document.querySelector('#js-hamburger');
        const nav = document.querySelector('#js-nav');
        //const overlay = document.querySelector('#js-overlay');
        const closeMenu = document.querySelector('#js-close-menu');

        // メニューを閉じる共通関数
        function closeNavMenu() {
            if (ham) ham.classList.remove('active');
            if (nav) nav.classList.remove('active');
            //if (overlay) overlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        if (ham && nav) {
            // メニューボタンクリック
            ham.addEventListener('click', function () {
                ham.classList.toggle('active');
                nav.classList.toggle('active');
                //overlay.classList.toggle('active');

                // 背景スクロール制御
                if (nav.classList.contains('active')) {
                    document.body.style.overflow = 'hidden';
                } else {
                    document.body.style.overflow = '';
                }
            });

            // 閉じるボタンクリック
            if (closeMenu) {
                closeMenu.addEventListener('click', closeNavMenu);
            }

            // オーバーレイクリックでメニューを閉じる
            //overlay.addEventListener('click', closeNavMenu);
            // メニュー外をクリックしてメニューを閉じる
            document.addEventListener('click', function(e) {
                if (nav.classList.contains('active')) {
                    // クリックされた要素がメニュー内またはハンバーガーボタンでない場合
                    if (!nav.contains(e.target) && !ham.contains(e.target)) {
                        closeNavMenu();
                    }
                }
            });

            // メニュー内のリンククリックでメニューを閉じる
            const menuLinks = nav.querySelectorAll('a');
            menuLinks.forEach(function(link) {
                link.addEventListener('click', closeNavMenu);
            });

            // ESCキーでメニューを閉じる
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && nav.classList.contains('active')) {
                    closeNavMenu();
                }
            });
        }

        // スムーススクロール機能
        const smoothScrollLinks = document.querySelectorAll('a[href^="#"]');
        smoothScrollLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;

                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;
                    const startPosition = window.pageYOffset;
                    const distance = targetPosition - startPosition;
                    const duration = 800;
                    let start = null;

                    window.requestAnimationFrame(step);

                    function step(timestamp) {
                        if (!start) start = timestamp;
                        const progress = timestamp - start;
                        const progressRatio = Math.min(progress / duration, 1);
                        const easeInOutCubic = progressRatio < 0.5
                            ? 4 * progressRatio * progressRatio * progressRatio
                            : 1 - Math.pow(-2 * progressRatio + 2, 3) / 2;

                        window.scrollTo(0, startPosition + distance * easeInOutCubic);

                        if (progress < duration) {
                            window.requestAnimationFrame(step);
                        }
                    }
                }
            });
        });

        // アコーディオン機能
        function toggleAccordion(sectionId) {
            const content = document.getElementById(sectionId + '-content');
            const arrow = document.getElementById(sectionId + '-arrow');

            // 他のアコーディオンを閉じる
            const allContents = document.querySelectorAll('[id$="-content"]');
            const allArrows = document.querySelectorAll('[id$="-arrow"]');

            allContents.forEach(function(otherContent) {
                if (otherContent.id !== sectionId + '-content' && !otherContent.classList.contains('hidden')) {
                    otherContent.classList.add('hidden');
                }
            });

            allArrows.forEach(function(otherArrow) {
                if (otherArrow.id !== sectionId + '-arrow') {
                    otherArrow.classList.remove('rotate-180');
                }
            });

            // 選択されたアコーディオンをトグル
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                arrow.classList.add('rotate-180');
            } else {
                content.classList.add('hidden');
                arrow.classList.remove('rotate-180');
            }
        }

        // グローバルスコープに関数を追加
        window.toggleAccordion = toggleAccordion;
    });
    </script>
    <!-- アコーディオン機能のJavaScript -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // アコーディオン機能の初期化
        const guideHeaders = document.querySelectorAll('.guide-header');

        guideHeaders.forEach(header => {
            header.addEventListener('click', () => {
                // PCサイズではアコーディオン無効
                if (window.innerWidth >= 768) return;

                const item = header.closest('[data-section]');
                const content = item.querySelector('.guide-content');
                const arrow = header.querySelector('svg:last-child');

                // 現在のコンテンツの表示状態を切り替え
                const isHidden = content.classList.contains('hidden');

                if (isHidden) {
                    // 他のアコーディオンを閉じる
                    document.querySelectorAll('.guide-content').forEach(otherContent => {
                        if (!otherContent.classList.contains('md:block')) {
                            otherContent.classList.add('hidden');
                        }
                    });

                    document.querySelectorAll('.guide-header svg:last-child').forEach(otherArrow => {
                        otherArrow.classList.remove('rotate-180');
                    });

                    // 選択したアコーディオンを開く
                    content.classList.remove('hidden');
                    if (arrow) arrow.classList.add('rotate-180');
                } else {
                    // 選択したアコーディオンを閉じる
                    content.classList.add('hidden');
                    if (arrow) arrow.classList.remove('rotate-180');
                }
            });
        });

        // リサイズ時にPC表示では全て表示
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 768) {
                document.querySelectorAll('.guide-content').forEach(content => {
                    content.classList.remove('hidden');
                });
                document.querySelectorAll('.guide-header svg:last-child').forEach(arrow => {
                    arrow.classList.remove('rotate-180');
                });
            }
        });
    });

    // ページトップボタン
    const pagetop = document.getElementById('pagetop');
    if (pagetop) {
        window.addEventListener('scroll', function() {
            if (window.scrollY > 100) {
                pagetop.classList.remove('hidden');
            } else {
                pagetop.classList.add('hidden');
            }
        });

        pagetop.addEventListener('click', function(e) {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    }
    </script>
    <script src="{{ asset('/sys/js/goods.js') }}"></script>
    <script src="{{ asset('/sys/js/common.js') }}"></script>
</body>
</html>
